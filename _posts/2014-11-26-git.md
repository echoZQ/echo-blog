---
layout: post
title: git学习
category: 技术
tags: git
description: 最近又懒了，静下心来一样一样扎实
---
学什么都很浅，底子薄人又懒！！！一样一样来！

### csv、svn与git
CVS及SVN都是集中式的版本控制系统，而Git是分布式版本控制系统。

### 命令
	git init //初始化一个Git仓库,先创个文件夹
	git add <file> 可反复多次使用，添加多个文件至**暂存区(Stage)**； //我一直是git add -A全部一次提交文件，以后要注意下是否有不该提交的文件   
	git commit -m "说明" //把暂存区的所有内容提交到**当前分支**
	git status //随时掌握工作区的状态,查看有无文件修改过(修改但没commit)
	git diff //查看修改内容   
	HEAD指向的版本就是当前版本，Git允许我们在版本的历史之间穿梭，使用命令git reset --hard commit_id() //上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。  
	git log //查看提交历史，以便确定要回退到哪个版本(最近三次)
	git reflog //查看**历史命令**，以便确定要回到未来的哪个版本  
	master //git为我们自动创建的第一个分支
	origin //git默认的远程库的名字	
	git clone //克隆远程库

### 暂存区的概念
工作区: 就是电脑里能看到的目录  
版本库: 工作区有一个隐藏目录.git，这个不算工作区，而是Git的版本库。  
Git的版本库最重要的就是称为stage（或者叫index）的暂存区，还有Git为我们自动创建的第一个分支master，以及指向master的一个指针叫HEAD。
  
把文件往Git版本库里添加的时候，是分两步执行的：  
第一步是用git add把文件添加进去，实际上就是把文件修改添加到暂存区；  
第二步是用git commit提交 更改，实际上就是把暂存区的所有内容提交到当前分支。 

可以简单理解为，**需要提交的文件修改通通放到暂存区，然后，一次性提交暂存区的所有修改**。 全部commit后再git status就会提示nothing to commit (working directory clean)工作区就是“干净”的。

### git跟踪并管理的是修改，而非文件
每次修改，如果不add到暂存区，那就不会加入到commit中。

### 撤销修改(还没提交到远程)
	git checkout -- file可以丢弃工作区的修改,就是让这个文件回到最近一次git commit或git add时的状态(注意是只add而没有commit)。 //git checkout -- file命令中的--很重要，没有--，就变成了“创建一个新分支”的命令
	
场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令git checkout -- file。

场景2：当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令git reset HEAD file，就回到了场景1，第二步按场景1操作。

### 远程仓库
origin //git默认的远程库的名字	  
要关联一个远程库，使用命令git remote add origin git@server-name:path/repo-name.git；  
关联后，使用命令git push -u origin master**第一次**推送master分支的所有内容；  
此后，每次本地提交后，只要有必要，就可以使用命令git push origin master推送最新修改；


